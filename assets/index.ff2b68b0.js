import{l as m,v as i,d as g,T as p,S as y}from"./vendor.957044f4.js";const v=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};v();const w=l=>{var r=document.createElement("div");return r.innerHTML=l,r},h=l=>{let r=l.attributes,s={};for(var n=0;n<r.length;n++)s[r[n].name]=r[n].value;return s},L=l=>{let r=0,s=[];const n=e=>{let t=[];return e.forEach(o=>{var u,c,d;if(o instanceof HTMLElement){let a=++r;t.push(a),s.push({id:a,type:o.tagName.toLowerCase(),attributes:h(o),children:n(o.childNodes)})}else{let a=(d=(c=(u=o.nodeValue)==null?void 0:u.toString())==null?void 0:c.trim())==null?void 0:d.replaceAll(/\n\t/g,"");if(a){let f=++r;t.push(f),s.push({id:f,type:"text",value:a})}}}),t};return s.push({type:l.tagName.toLowerCase(),id:r,attributes:h(l),children:n(l.childNodes)}),s};function N(){let[l,r]=m("");return i(g,null,i("h3",null,"HTML to Flat JSON"),i("div",null,i(p,{onChange:n=>{let e=n.target.value;const t=w(e);try{console.log("root",t);let o=L(t).sort((u,c)=>u.id>c.id?1:-1);console.log("jsonData",o),r(JSON.stringify(o,null,2))}catch(o){console.warn(o)}},placeholder:"input HTML here",minRows:30,maxRows:30,style:{width:"100%"}})),i("div",null,i(p,{placeholder:"JSON output",minRows:30,maxRows:30,style:{width:"100%"},value:l})))}y(i(N,null),document.getElementById("app"));
